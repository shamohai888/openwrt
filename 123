version: '3.8'
services:
  db:
    image: mariadb:10.6
    restart: always
    container_name: typecho-db
    environment:
      MYSQL_ROOT_PASSWORD: yourpassword
      MYSQL_DATABASE: typecho
      MYSQL_USER: typecho
      MYSQL_PASSWORD: typecho123
    volumes:
      - ./db_data:/var/lib/mysql
    networks:
      typecho-net:
        ipv4_address: 172.19.0.2   # 固定IP

  typecho:
    image: 80x86/typecho
    restart: always
    container_name: typecho-app
    environment:
      TZ: Asia/Shanghai
    volumes:
      - ./typecho_data:/var/www/html
    depends_on:
      - db
    networks:
      typecho-net:
        ipv4_address: 172.19.0.3   # 固定IP

networks:
  typecho-net:
    driver: bridge
    ipam:
      config:
        - subnet: 172.19.0.0/24





  GNU nano 6.2                                                                                                          docker-compose.yml                                                                                                                    
version: '3.8'
services:
  db:
    image: mariadb:10.6
    restart: always
    container_name: typecho-db
    environment:
      MYSQL_ROOT_PASSWORD: mysql_yiJFa5
      MYSQL_DATABASE: typecho
      MYSQL_USER: admin
      MYSQL_PASSWORD: MQjhiFaTHEhc748s
    volumes:
      - ./db_data:/var/lib/mysql
  typecho:
    image: 80x86/typecho
    restart: always
    container_name: typecho-app
    ports:
      - "8080:80"
    environment:
      TZ: Asia/Shanghai
    volumes:
      - ./typecho_data:/var/www/html
    depends_on:
      - db

